<c-col xs="12">
  <app-docs-callout href="charts">
    Stats <br> <br>
  </app-docs-callout>
</c-col>

<!-- Stats -->
<c-row>
  <c-col xs="12" lg="6">
    <c-card class="mb-4">
      <c-card-header>Doughnut Chart - User Role</c-card-header>
      <c-card-body>
        <c-chart type="doughnut" [data]="chartDoughnutData2"></c-chart>
      </c-card-body>
    </c-card>
  </c-col>

  <c-col xs="12" lg="6">
    <c-card class="mb-4">
      <c-card-header>Doughnut Chart - User Speciality</c-card-header>
      <c-card-body>
        <c-chart type="doughnut" [data]="chartDoughnutData"></c-chart>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>

<!-- User Form -->
<c-row>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>User Form</c-card-header>
      <c-card-body>
        <form cForm>
          <div class="mb-3">
            <label for="login">Login</label>
            <input type="text" [(ngModel)]="login" class="form-control" id="login" name="login" placeholder="Enter Login here">
          </div>
          <div class="mb-3">
            <label for="firstName">First Name</label>
            <input type="text" [(ngModel)]="firstName" class="form-control" id="firstName" name="firstName" placeholder="Enter First Name here">
          </div>
          <div class="mb-3">
            <label for="lastName">Last Name</label>
            <input type="text" [(ngModel)]="lastName" class="form-control" id="lastName" name="lastName" placeholder="Enter Last Name here">
          </div>
          <div class="mb-3">
            <label for="email">Email</label>
            <input type="text" [(ngModel)]="email" class="form-control" id="email" name="email" placeholder="Enter Email here">
          </div>
          <div class="mb-3">
            <label for="role">User Role</label>
            <select [(ngModel)]="role" class="form-control" id="role" name="role">
              <option value="TEACHER">Teacher</option>
              <option value="STUDENT">Student</option>
              <option value="ADMIN">Admin</option>
            </select>
          </div>
          <div class="mb-3" *ngIf="role === 'TEACHER'">
            <label for="speciality">User Speciality</label>
            <select [(ngModel)]="speciality" class="form-control" id="speciality" name="speciality">
              <option value="IT">IT</option>
              <option value="GENIECIVIL">Genie Civil</option>
              <option value="MATH">Math</option>
              <option value="DS">DS</option>
              <option value="ELECTROMECANIQUE">Electro Mecanique</option>
              <option value="IOT">IOT</option>
              <option value="DESIGN">DESIGN</option>
              <option value="FR">FR</option>
              <option value="ANG">ANG</option>


            </select>
          </div>
          <div class="mb-3">
            <label for="password">Password</label>
            <input type="password" [(ngModel)]="password" class="form-control" id="password" name="password" placeholder="Enter Password here">
          </div>
          <div class="mb-3">
            <label for="dateOfBirth">Date of Birth</label>
            <input type="date" [(ngModel)]="dateOfBirth" class="form-control" id="dateOfBirth" name="dateOfBirth">
          </div>

          <button type="submit" class="btn btn-primary mt-4" (click)="add()">Submit</button>
        </form>
      </c-card-body>

    </c-card>
  </c-col>
</c-row>

<!-- User Table -->
<c-row>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>User Table</c-card-header>
      <c-card-body>
        <table class="table">
          <thead class="thead-light">
          <tr>
            <th>ID</th>
            <th>Login</th>
            <th>Password</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Date of Birth</th>
            <th>Role</th>
            <th>Speciality</th>
            <th>Options</th>
          </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of userArray; let i = index">
              <td>{{ user.id }}</td>
              <td>{{ user.login }}</td>
              <td>{{ user.password }}</td>
              <td>{{ user.firstName }}</td>
              <td>{{ user.lastName }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.dateOfBirth | date: 'dd/MM/yyyy' }}</td>
              <td>{{ user.role }}</td>
              <td>{{ user.speciality }}</td>
              <td>
                <button cButton (click)="openUpdatePage(user)">Edit</button>
                <button cButton (click)="deleteUser(user.login)">Delete</button>
            </td>
          </tr>
          </tbody>
        </table>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>

